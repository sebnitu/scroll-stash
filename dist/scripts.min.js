var ScrollStash=function(){"use strict";var t=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t};var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var n=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t},o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var i=c((function(t){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e})),a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt,h="object"==i(o)&&o&&o.Object===Object&&o,p="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,v=h||p||Function("return this")(),y=Object.prototype.toString,d=Math.max,b=Math.min,g=function(){return v.Date.now()};function m(t,e,r){var n,o,c,i,a,s,u=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var r=n,c=o;return n=o=void 0,u=e,i=t.apply(c,r)}function v(t){return u=t,a=setTimeout(m,e),l?p(t):i}function y(t){var r=t-s;return void 0===s||r>=e||r<0||f&&t-u>=c}function m(){var t=g();if(y(t))return w(t);a=setTimeout(m,function(t){var r=e-(t-s);return f?b(r,c-(t-u)):r}(t))}function w(t){return a=void 0,h&&n?p(t):(n=o=void 0,i)}function E(){var t=g(),r=y(t);if(n=arguments,o=this,s=t,r){if(void 0===a)return v(s);if(f)return a=setTimeout(m,e),p(s)}return void 0===a&&(a=setTimeout(m,e)),i}return e=O(e)||0,j(r)&&(l=!!r.leading,c=(f="maxWait"in r)?d(O(r.maxWait)||0,e):c,h="trailing"in r?!!r.trailing:h),E.cancel=function(){void 0!==a&&clearTimeout(a),u=0,n=s=o=a=void 0},E.flush=function(){return void 0===a?i:w(g())},E}function j(t){var e=i(t);return!!t&&("object"==e||"function"==e)}function w(t){return"symbol"==i(t)||function(t){return!!t&&"object"==i(t)}(t)&&"[object Symbol]"==y.call(t)}function O(t){if("number"==typeof t)return t;if(w(t))return NaN;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=u.test(t);return r||l.test(t)?f(t.slice(2),r?2:8):s.test(t)?NaN:+t}var E=function(t,e,r){var n=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return j(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),m(t,e,{leading:n,maxWait:e,trailing:o})},S=c((function(t,e){var r="[object Map]",n="[object Set]",c=/^\[object .+?Constructor\]$/,a="object"==i(o)&&o&&o.Object===Object&&o,s="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,u=a||s||Function("return this")(),l=e&&!e.nodeType&&e,f=l&&t&&!t.nodeType&&t,h=f&&f.exports===l;var p,v,y,d=Function.prototype,b=Object.prototype,g=u["__core-js_shared__"],m=(p=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",j=d.toString,w=b.hasOwnProperty,O=b.toString,E=RegExp("^"+j.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=h?u.Buffer:void 0,x=b.propertyIsEnumerable,P=S?S.isBuffer:void 0,T=(v=Object.keys,y=Object,function(t){return v(y(t))}),A=W(u,"DataView"),k=W(u,"Map"),C=W(u,"Promise"),D=W(u,"Set"),q=W(u,"WeakMap"),$=!x.call({valueOf:1},"valueOf"),I=K(A),_=K(k),M=K(C),L=K(D),B=K(q);function N(t){return!(!J(t)||function(t){return!!m&&m in t}(t))&&(G(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?E:c).test(K(t))}function W(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return N(r)?r:void 0}var F=function(t){return O.call(t)};function K(t){if(null!=t){try{return j.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function R(t){return function(t){return function(t){return!!t&&"object"==i(t)}(t)&&z(t)}(t)&&w.call(t,"callee")&&(!x.call(t,"callee")||"[object Arguments]"==O.call(t))}(A&&"[object DataView]"!=F(new A(new ArrayBuffer(1)))||k&&F(new k)!=r||C&&"[object Promise]"!=F(C.resolve())||D&&F(new D)!=n||q&&"[object WeakMap]"!=F(new q))&&(F=function(t){var e=O.call(t),o="[object Object]"==e?t.constructor:void 0,c=o?K(o):void 0;if(c)switch(c){case I:return"[object DataView]";case _:return r;case M:return"[object Promise]";case L:return n;case B:return"[object WeakMap]"}return e});var H=Array.isArray;function z(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!G(t)}var V=P||function(){return!1};function G(t){var e=J(t)?O.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function J(t){var e=i(t);return!!t&&("object"==e||"function"==e)}t.exports=function(t){if(z(t)&&(H(t)||"string"==typeof t||"function"==typeof t.splice||V(t)||R(t)))return!t.length;var e=F(t);if(e==r||e==n)return!t.size;if($||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||b)}(t))return!T(t).length;for(var o in t)if(w.call(t,o))return!1;return!0}})),x={autoInit:!1,dataScroll:"scroll-stash",dataAnchor:"scroll-stash-anchor",selectorAnchor:"",selectorAnchorParent:"",selectorTopElem:"",selectorBotElem:"",alignment:"nearest",behavior:"auto",anchorPadding:16,saveKey:"ScrollStash",throttleDelay:100,customEventPrefix:"scroll-stash:"},P=c((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});e.addClass=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(t=t.forEach?t:[t]).forEach((function(t){var e;(e=t.classList).add.apply(e,r)}))},e.breakpoints={xs:"480px",sm:"620px",md:"760px",lg:"990px",xl:"1380px"},e.camelCase=function(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))},e.hasClass=function(t){t=t.forEach?t:[t],t=[].slice.call(t);for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.some((function(e){return t.some((function(t){if(t.classList.contains(e))return!0}))}))},e.hyphenCase=function(t){return t.replace(/([a-z][A-Z])/g,(function(t){return t[0]+"-"+t[1].toLowerCase()}))},e.removeClass=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(t=t.forEach?t:[t]).forEach((function(t){var e;(e=t.classList).remove.apply(e,r)}))},e.toggleClass=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(t=t.forEach?t:[t]).forEach((function(t){r.forEach((function(e){t.classList.toggle(e)}))}))}})),T=function(t,e,r){var n=r.anchorPadding;if(r.selectorTopElem){var o=t.querySelector(r.selectorTopElem);o&&(n+=o.offsetHeight)}return e.offsetTop-n},A=function(t,e,r){var n=r.anchorPadding;if(r.selectorBotElem){var o=t.querySelector(r.selectorBotElem);o&&(n+=o.offsetHeight)}return e.offsetTop-(t.offsetHeight-(e.offsetHeight+n))},k=function(t,e,r){var n=function(t,e,r){var n=T(t,e,r),o=A(t,e,r);return!(t.scrollTop>n||t.scrollTop<o)}(t,e,r);switch(r.alignment){case"start":return!n&&T(t,e,r);case"center":return!n&&function(t,e,r){var n=T(t,e,r),o=A(t,e,r);return o+(n-o)/2}(t,e,r);case"end":return!n&&A(t,e,r);case"nearest":return function(t,e,r){var n=T(t,e,r),o=A(t,e,r);return t.scrollTop>n?n:t.scrollTop<o&&o}(t,e,r);default:return!1}},C=function(t,e){var r=t.dataset[P.camelCase(e.dataAnchor)];if("false"==r||"ignore"==r)return null;if(r&&t.querySelector(r))return t.querySelector(r);var n=e.selectorAnchor?t.querySelector(e.selectorAnchor):null;if(n&&e.selectorAnchorParent){var o=n.closest(e.selectorAnchorParent);if(o)return o}return n||null},D=C,q=function(t,e,r){var n=C(t,r);if(n){var o=k(t,n,r);return o?(e=e||r.behavior,t.scroll({top:o,behavior:e}),t.dispatchEvent(new CustomEvent(r.customEventPrefix+"anchor",{bubbles:!0,detail:{scrolled:{value:o,behavior:e},key:t.dataset[P.camelCase(r.dataScroll)]}})),{scrolled:{value:o,behavior:e},msg:"Anchor was scrolled into view"}):{scrolled:!1,msg:"Anchor is already in view"}}return{scrolled:!1,msg:"Anchor was not found"}},$=function(t){var e={};return document.querySelectorAll("[data-".concat(t.dataScroll,"]")).forEach((function(r){var n=r.dataset[P.camelCase(t.dataScroll)];n&&(e[n]=r.scrollTop)})),localStorage.setItem(t.saveKey,JSON.stringify(e)),document.dispatchEvent(new CustomEvent(t.customEventPrefix+"saved",{bubbles:!0,detail:{state:e}})),e},I=function(t){if(localStorage.getItem(t.saveKey)){var e=JSON.parse(localStorage.getItem(t.saveKey));return Object.keys(e).forEach((function(r){var n=document.querySelector("[data-".concat(t.dataScroll,'="').concat(r,'"]'));n&&(n.scrollTop=e[r])})),document.dispatchEvent(new CustomEvent(t.customEventPrefix+"applied",{bubbles:!0,detail:{state:e}})),e}return{}};function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?_(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}return function(){function t(r){e(this,t),this.settings=M(M({},x),r),this.state={},this.scrolls=[],this.throttleRef=E(this.handler,this.settings.throttleDelay,{leading:!1}).bind(this),this.settings.autoInit&&this.init()}return n(t,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.settings=M(M({},this.settings),e)),this.state=I(this.settings),this.state=S(this.state)?$(this.settings):this.state,this.scrolls=document.querySelectorAll("[data-".concat(this.settings.dataScroll,"]")),this.scrolls.forEach((function(e){e.addEventListener("scroll",t.throttleRef),q(e,!1,t.settings)}))}},{key:"destroy",value:function(){var t=this;this.scrolls.forEach((function(e){e.removeEventListener("scroll",t.throttleRef)})),this.state={},this.scrolls=[],localStorage.removeItem(this.settings.saveKey)}},{key:"handler",value:function(){this.state=$(this.settings)}},{key:"anchorGet",value:function(t){return D(t,this.settings)}},{key:"anchorShow",value:function(t,e){return q(t,e,this.settings)}}]),t}()}();
