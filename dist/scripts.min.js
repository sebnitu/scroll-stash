this.ScrollStash=function(){"use strict";var e=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e};function t(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function o(o){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){e(o,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))}))}return o}return function(e){var t={};t.settings=o(o({},{autoInit:!1,selector:"[data-scroll-stash]",selectorActive:"",selectorActiveParent:"",selectorTopElem:"",selectorBotElem:"",saveKey:"ScrollStash",throttleDelay:500,positionBottom:!0,padding:16}),e),t.lastPosition=0,t.ticking=!1,t.element=!1,t.init=function(){t.element=document.querySelector(t.settings.selector),t.element&&(i(),t.settings.selectorActive&&c(t.element),t.element.addEventListener("scroll",n,!1))},t.destroy=function(){t.element&&t.element.removeEventListener("scroll",n,!1)},t.showActive=function(e){t.settings.selectorActive&&c(e)};var n=function(e){t.lastPosition=e.target.scrollTop,t.ticking||(setTimeout(r,t.settings.throttleDelay),t.ticking=!0)},r=function(){console.log(t.element.scrollTop),s(),t.ticking=!1},s=function(){localStorage.setItem(t.settings.saveKey,t.lastPosition)},i=function(){var e=localStorage.getItem(t.settings.saveKey);e&&(t.element.scrollTop=e)},c=function(e){var o=e.querySelector(t.settings.selectorActive);if(t.settings.selectorActiveParent&&(o=o.closest(t.settings.selectorActiveParent)),o){var n=t.settings.padding,r=t.settings.padding;t.settings.selectorTopElem&&(n+=e.querySelector(t.settings.selectorElementPadding).offsetHeight),t.settings.selectorBotElem&&(r+=e.querySelector(t.settings.selectorElementPadding).offsetHeight);var s=o.offsetTop-n,i=o.offsetTop-(e.offsetHeight-(o.offsetHeight+r));e.scrollTop>s?e.scrollTop=s:e.scrollTop<i&&(e.scrollTop=i)}};return t.settings.autoInit&&t.init(),t}}();
