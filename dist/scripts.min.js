!function(e){"use strict";var t=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function o(e){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?n(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}e.MemoryScroll=function(e){var t={};t.settings=o(o({},{autoInit:!1,selector:"[data-scroll-stash]",selectorActive:"",selectorActiveParent:"",selectorElementPadding:"",saveKey:"StickyScroll",throttleDelay:500,positionBottom:!0,padding:30}),e),t.lastPosition=0,t.ticking=!1,t.element=!1,t.init=function(){t.element=document.querySelector(t.settings.selector),t.element&&(s(),t.settings.selectorActive&&c(),t.element.addEventListener("scroll",n,!1))},t.destroy=function(){t.element&&t.element.removeEventListener("scroll",n,!1)},t.showActive=function(){t.settings.selectorActive&&c()};var n=function(e){t.lastPosition=e.target.scrollTop,t.ticking||(setTimeout(i,t.settings.throttleDelay),t.ticking=!0)},i=function(){r(),t.ticking=!1},r=function(){localStorage.setItem(t.settings.saveKey,t.lastPosition)},s=function(){var e=localStorage.getItem(t.settings.saveKey);e&&(t.element.scrollTop=e)},c=function(){var e=t.element.querySelector(t.settings.selectorActive);if(t.settings.selectorActiveParent&&(e=e.closest(t.settings.selectorActiveParent)),e){var n=0;t.settings.selectorElementPadding&&(n=t.element.querySelector(t.settings.selectorElementPadding).getBoundingClientRect().height);var o=e.getBoundingClientRect(),i=t.element.getBoundingClientRect(),r=i.top+n,s=window.innerHeight||document.documentElement.clientHeight,c=e.offsetTop-(n+t.settings.padding),l=e.offsetTop+e.getBoundingClientRect().height+t.settings.padding-i.height;o.top<r?t.element.scrollTop=c:o.bottom>s&&(t.element.scrollTop=t.settings.positionBottom?l:c)}};return t.settings.autoInit&&t.init(),t}}(this["scroll-stash"]=this["scroll-stash"]||{});
