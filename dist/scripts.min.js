this.ScrollStash=function(){"use strict";var t=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},r.exports),r.exports}var n=r((function(t){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e})),o=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt,l="object"==n(e)&&e&&e.Object===Object&&e,s="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,f=l||s||Function("return this")(),p=Object.prototype.toString,v=Math.max,d=Math.min,y=function(){return f.Date.now()};function b(t,e,r){var n,o,c,i,a,u,l=0,s=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var r=n,c=o;return n=o=void 0,l=e,i=t.apply(c,r)}function h(t){return l=t,a=setTimeout(O,e),s?b(t):i}function j(t){var r=t-u;return void 0===u||r>=e||r<0||f&&t-l>=c}function O(){var t=y();if(j(t))return S(t);a=setTimeout(O,function(t){var r=e-(t-u);return f?d(r,c-(t-l)):r}(t))}function S(t){return a=void 0,p&&n?b(t):(n=o=void 0,i)}function w(){var t=y(),r=j(t);if(n=arguments,o=this,u=t,r){if(void 0===a)return h(u);if(f)return a=setTimeout(O,e),b(u)}return void 0===a&&(a=setTimeout(O,e)),i}return e=m(e)||0,g(r)&&(s=!!r.leading,c=(f="maxWait"in r)?v(m(r.maxWait)||0,e):c,p="trailing"in r?!!r.trailing:p),w.cancel=function(){void 0!==a&&clearTimeout(a),l=0,n=u=o=a=void 0},w.flush=function(){return void 0===a?i:S(y())},w}function g(t){var e=n(t);return!!t&&("object"==e||"function"==e)}function h(t){return"symbol"==n(t)||function(t){return!!t&&"object"==n(t)}(t)&&"[object Symbol]"==p.call(t)}function m(t){if("number"==typeof t)return t;if(h(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=i.test(t);return r||a.test(t)?u(t.slice(2),r?2:8):c.test(t)?NaN:+t}var j=function(t,e,r){var n=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return g(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),b(t,e,{leading:n,maxWait:e,trailing:o})},O=r((function(t,r){var o="[object Map]",c="[object Set]",i=/^\[object .+?Constructor\]$/,a="object"==n(e)&&e&&e.Object===Object&&e,u="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,l=a||u||Function("return this")(),s=r&&!r.nodeType&&r,f=s&&t&&!t.nodeType&&t,p=f&&f.exports===s;var v,d,y,b=Function.prototype,g=Object.prototype,h=l["__core-js_shared__"],m=(v=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",j=b.toString,O=g.hasOwnProperty,S=g.toString,w=RegExp("^"+j.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=p?l.Buffer:void 0,P=g.propertyIsEnumerable,T=E?E.isBuffer:void 0,x=(d=Object.keys,y=Object,function(t){return d(y(t))}),A=F(l,"DataView"),D=F(l,"Map"),q=F(l,"Promise"),$=F(l,"Set"),k=F(l,"WeakMap"),I=!P.call({valueOf:1},"valueOf"),M=H(A),_=H(D),B=H(q),N=H($),W=H(k);function C(t){return!(!G(t)||function(t){return!!m&&m in t}(t))&&(R(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?w:i).test(H(t))}function F(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return C(r)?r:void 0}var K=function(t){return S.call(t)};function H(t){if(null!=t){try{return j.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function V(t){return function(t){return function(t){return!!t&&"object"==n(t)}(t)&&J(t)}(t)&&O.call(t,"callee")&&(!P.call(t,"callee")||"[object Arguments]"==S.call(t))}(A&&"[object DataView]"!=K(new A(new ArrayBuffer(1)))||D&&K(new D)!=o||q&&"[object Promise]"!=K(q.resolve())||$&&K(new $)!=c||k&&"[object WeakMap]"!=K(new k))&&(K=function(t){var e=S.call(t),r="[object Object]"==e?t.constructor:void 0,n=r?H(r):void 0;if(n)switch(n){case M:return"[object DataView]";case _:return o;case B:return"[object Promise]";case N:return c;case W:return"[object WeakMap]"}return e});var z=Array.isArray;function J(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!R(t)}var L=T||function(){return!1};function R(t){var e=G(t)?S.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function G(t){var e=n(t);return!!t&&("object"==e||"function"==e)}t.exports=function(t){if(J(t)&&(z(t)||"string"==typeof t||"function"==typeof t.splice||L(t)||V(t)))return!t.length;var e=K(t);if(e==o||e==c)return!t.size;if(I||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||g)}(t))return!x(t).length;for(var r in t)if(O.call(t,r))return!1;return!0}})),S={autoInit:!1,dataScroll:"scroll-stash",dataAnchor:"scroll-stash-anchor",selectorAnchor:"",selectorAnchorParent:"",selectorTopElem:"",selectorBotElem:"",alignment:"nearest",behavior:"auto",anchorPadding:16,saveKey:"ScrollStash",throttleDelay:100,customEventPrefix:"scroll-stash:"},w=function(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))},E=function(t,e,r){var n=r.anchorPadding;if(r.selectorTopElem){var o=t.querySelector(r.selectorTopElem);o&&(n+=o.offsetHeight)}return e.offsetTop-n},P=function(t,e,r){var n=r.anchorPadding;if(r.selectorBotElem){var o=t.querySelector(r.selectorBotElem);o&&(n+=o.offsetHeight)}return e.offsetTop-(t.offsetHeight-(e.offsetHeight+n))},T=function(t,e,r){var n=function(t,e,r){var n=E(t,e,r),o=P(t,e,r);return!(t.scrollTop>n||t.scrollTop<o)}(t,e,r);switch(r.alignment){case"start":return!n&&E(t,e,r);case"center":return!n&&function(t,e,r){var n=E(t,e,r),o=P(t,e,r);return o+(n-o)/2}(t,e,r);case"end":return!n&&P(t,e,r);case"nearest":return function(t,e,r){var n=E(t,e,r),o=P(t,e,r);return t.scrollTop>n?n:t.scrollTop<o&&o}(t,e,r);default:return!1}},x=function(t,e){var r=t.dataset[w(e.dataAnchor)];if("false"==r||"ignore"==r)return null;if(r&&t.querySelector(r))return t.querySelector(r);var n=e.selectorAnchor?t.querySelector(e.selectorAnchor):null;if(n&&e.selectorAnchorParent){var o=n.closest(e.selectorAnchorParent);if(o)return o}return n||null},A=x,D=function(t,e,r){var n=x(t,r);if(n){var o=T(t,n,r);return o?(e=e||r.behavior,t.scroll({top:o,behavior:e}),t.dispatchEvent(new CustomEvent(r.customEventPrefix+"anchor",{bubbles:!0,detail:{scrolled:{value:o,behavior:e},key:t.dataset[w(r.dataScroll)]}})),{scrolled:{value:o,behavior:e},msg:"Anchor was scrolled into view"}):{scrolled:!1,msg:"Anchor is already in view"}}return{scrolled:!1,msg:"Anchor was not found"}},q=function(t){var e={};return document.querySelectorAll("[data-".concat(t.dataScroll,"]")).forEach((function(r){var n=r.dataset[w(t.dataScroll)];n&&(e[n]=r.scrollTop)})),localStorage.setItem(t.saveKey,JSON.stringify(e)),document.dispatchEvent(new CustomEvent(t.customEventPrefix+"saved",{bubbles:!0,detail:{state:e}})),e},$=function(t){if(localStorage.getItem(t.saveKey)){var e=JSON.parse(localStorage.getItem(t.saveKey));return Object.keys(e).forEach((function(r){var n=document.querySelector("[data-".concat(t.dataScroll,'="').concat(r,'"]'));n&&(n.scrollTop=e[r])})),document.dispatchEvent(new CustomEvent(t.customEventPrefix+"applied",{bubbles:!0,detail:{state:e}})),e}return{}};function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?k(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}return function(t){var e={};e.settings=I(I({},S),t),e.state={},e.scrolls=[];var r=j((function(){return e.state=q(e.settings)}),e.settings.throttleDelay,{leading:!1});return e.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(e.settings=I(I({},e.settings),t)),e.state=$(e.settings),e.state=O(e.state)?q(e.settings):e.state,e.scrolls=document.querySelectorAll("[data-".concat(e.settings.dataScroll,"]")),e.scrolls.forEach((function(t){t.addEventListener("scroll",r,!1),D(t,!1,e.settings)}))},e.destroy=function(){e.scrolls.forEach((function(t){t.removeEventListener("scroll",r,!1)})),e.state={},e.scrolls=[],localStorage.removeItem(e.settings.saveKey)},e.anchor={get:function(t){return A(t,e.settings)},show:function(t,r){return D(t,r,e.settings)}},e.settings.autoInit&&e.init(),e}}();
